<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Detector de máscara - Demo</title>
    <style>
      body { font-family: Arial, Helvetica, sans-serif; margin: 2rem; }
      .card { max-width:600px; margin:auto; padding:1rem; border:1px solid #ddd; border-radius:8px; }
      img { max-width:100%; height:auto; display:block; margin-bottom:1rem; }
      .code { font-weight:700; font-size:1.6rem; color:green; background:#f0fff0; padding:0.5rem; border-radius:4px; }
      .note { color:#555; font-size:0.9rem; margin-top:1rem;}
    </style>
  </head>
  <body>
    <div class="card">
      <h2>Demo: Reconocimiento de máscara (ORBS) </h2>
      <p>Sube una foto o toma una desde tu teléfono. Si la app reconoce la <em>máscara objetivo</em>, mostrará el código secreto.</p>
      <p><strong>Imagen objetivo (ejemplo):</strong></p>
      <img src="{{ url_for('static', filename='target_mask.png') }}" alt="Target mask">
      <form method="post" enctype="multipart/form-data">
        <input type="file" accept="image/*" name="photo" required>
        <br/><br/>
        <button type="submit">Comprobar foto</button>
      </form>
      {% with messages = get_flashed_messages() %}
        {% if messages %}
          <ul style="color:#a00;">
          {% for m in messages %}
            <li>{{ m }}</li>
          {% endfor %}
          </ul>
        {% endif %}
      {% endwith %}
      {% if code %}
        <p class="code">Código desbloqueado: {{ code }}</p>
      {% endif %}
      <p class="note"><strong>Advertencia:</strong> Esta app es un prototipo educativo. No se recomienda usar reconocimiento facial para control de acceso en producción.</p>
    </div>
  </body>
</html>
